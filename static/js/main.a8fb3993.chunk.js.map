{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isLiked","card","likes","some","i","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","type","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","onClose","api","config","this","_url","url","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","description","body","JSON","stringify","id","isNotLiked","putLike","deleteLike","avatarName","authorization","PopupWithForm","isOpen","action","noValidate","onSubmit","title","children","EditProfilePopup","useState","setName","setDescription","useEffect","e","preventDefault","onUpdateUser","required","value","onChange","target","placeholder","minLength","maxLength","EditAvatarPopup","avatarInput","useRef","onUpdateAvatar","current","ref","AddPlacePopup","nameInput","descriptionInput","App","setCards","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","all","getUserInfo","user","catch","err","console","log","getAllCards","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","patchChangeAvatar","newUserInfo","patchEditProfile","cardInfo","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8fb3993.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\r\nimport logo from '../images/header-logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={ logo } alt=\"Логотип сервиса Mesto\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__like-button ${ isLiked ? 'element__like-button_active' : 'element__like-button' }`\r\n    );\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete ${ isOwn ? 'element__delete_active' : 'element__delete' }`\r\n    );\r\n    \r\n    \r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    } \r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <figure className=\"element\" key={ props.card._id }>\r\n                <button type=\"button\" className={ cardDeleteButtonClassName } onClick={ handleDeleteClick } />\r\n                <img className=\"element__image\" src={ props.card.link } alt={ props.card.name } onClick={ handleClick }/>\r\n                <div className=\"element__caption-container\">\r\n                    <h2 className=\"element__caption\">{ props.card.name }</h2>\r\n                    <div className=\"element__like-area\">\r\n                        <button type=\"button\" className={ cardLikeButtonClassName } onClick={ handleLikeClick } />\r\n                        <output className=\"element__like-numbers\">{ props.card.likes.length }</output>\r\n                    </div>\r\n                </div>\r\n            </figure>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <img className=\"profile__avatar\" src={ currentUser.avatar } alt=\"Аватар пользователя\" onClick={ props.onEditAvatar } />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__name-edit\">\r\n                        <h1 className=\"profile__name\">{ currentUser.name }</h1>\r\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={ props.onEditProfile } />\r\n                    </div>\r\n                    <p className=\"profile__description\">{ currentUser.about }</p>\r\n                </div>           \r\n                <button type=\"button\" className=\"profile__add-button\" onClick={ props.onAddPlace } />\r\n            </section>\r\n            <section className=\"elements\">\r\n                { props.cards.map((card) => (\r\n                    <Card \r\n                    card={ card }\r\n                    key={ card._id }\r\n                    onCardClick={ props.onCardClick }\r\n                    onCardLike={ props.onCardLike }\r\n                    onCardDelete={ props.onCardDelete }\r\n                    />\r\n                ))}\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <>\r\n            <div className={ `modal modal_type_picture ${ props.card.link && 'modal_is-open' }` }>\r\n                <div className=\"modal__container_type-picture\">\r\n                    <button type=\"reset\" className=\"modal__close-button modal__close-button_type-picture\" onClick={ props.onClose } />\r\n                    <figure>\r\n                        <img className=\"modal__image\" src={ props.card.link } alt={ props.card.name } />\r\n                        <figcaption className=\"modal__caption\">{ props.card.name }</figcaption>\r\n                    </figure>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при загрузке данных пользователя с сервера');\r\n        });\r\n    }\r\n\r\n    getAllCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при загрузке карточек с сервера');\r\n        });\r\n    }\r\n\r\n    patchEditProfile({ name, description }) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: description\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при редактировании данных пользователя');\r\n        });\r\n    }\r\n\r\n    postCard({ name, description }) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: description\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при добавлении карточки');\r\n        });\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при удалении карточки');\r\n        });\r\n    }\r\n\r\n    putLike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при попытке поставить лайк');\r\n        });\r\n    }\r\n\r\n    deleteLike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при попытке убрать лайк');\r\n        });\r\n    }\r\n\r\n    changeLikeCardStatus(id, isNotLiked) {\r\n        if (isNotLiked) {\r\n            return this.putLike(id);\r\n        } else {\r\n            return this.deleteLike(id);\r\n        }\r\n    }\r\n\r\n    patchChangeAvatar({ avatarName }) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatarName\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при попытке сменить аватар');\r\n        });\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-16/',\r\n    headers: {\r\n       authorization: '8105b806-1cac-45d8-8567-2a49d509e437',\r\n       'content-type': 'application/JSON',\r\n    },\r\n});\r\n\r\nexport default api;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {  \r\n    return (\r\n        <>\r\n            <div className={`modal modal_type_${ props.name } ${ props.isOpen && 'modal_is-open' }`}>\r\n                <form name=\"\" action=\"#\" className={`modal__container modal__container_type_${props.name}`} noValidate onSubmit={props.onSubmit}>\r\n                    <h2 className=\"modal__title\">{props.title}</h2>\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"modal__save-button\">Сохранить</button>\r\n                    <button type=\"reset\" className=\"modal__close-button\" onClick={props.onClose}></button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState();\r\n    const [description, setDescription] = React.useState();\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name: name,\r\n            description: description\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm isOpen={props.isOpen} name=\"edit-profile\" title=\"Редактировать профиль\" onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input id=\"name-input\" name=\"name\" type=\"text\" className=\"modal__input modal__input_type_name\" required value={name || ''} onChange={handleChangeName} placeholder=\"Введите имя\" minLength=\"2\" maxLength=\"40\" />\r\n            <span id=\"name-input-error\" className=\"modal__input-error\"></span>\r\n            <input id=\"description-input\" name=\"description\" type=\"text\" className=\"modal__input modal__input_type_description\" required value={description || ''} onChange={handleChangeDescription} placeholder=\"Введите описание\" minLength=\"2\" maxLength=\"200\" />\r\n            <span id=\"description-input-error\" className=\"modal__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarInput = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n          avatarName: avatarInput.current.value\r\n        });\r\n    } \r\n\r\n    return (\r\n        <PopupWithForm isOpen={props.isOpen} name=\"add-avatar\" title=\"Обновить аватар\" onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input ref={avatarInput} id=\"avatar-input\" name=\"avatarName\" type=\"url\" className=\"modal__input modal__input_type_url\" required=\"required\" placeholder=\"Ссылка на картинку\" />\r\n            <span id=\"avatar-input-error\" className=\"modal__input-error\" />\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const nameInput = React.useRef();\r\n    const descriptionInput = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: nameInput.current.value,\r\n            description: descriptionInput.current.value\r\n        });\r\n    } \r\n\r\n    return (\r\n        <PopupWithForm isOpen={props.isOpen} name=\"add-element\" title=\"Новое место\" onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input ref={nameInput} id=\"name-input\" name=\"name\" type=\"text\" className=\"modal__input modal__input_type_place\" required=\"required\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" />\r\n            <span id=\"name-input-error\" className=\"modal__input-error\" />\r\n            <input ref={descriptionInput} id=\"description-input\" name=\"description\" type=\"url\" className=\"modal__input modal__input_type_url\" required=\"required\" placeholder=\"Ссылка на картинку\" />\r\n            <span id=\"description-input-error\" className=\"modal__input-error\" />\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/Api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n  const [cards, setCards] = React.useState([]);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState([]);\n  \n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard([]);\n  }\n\n  function handleUpdateUser(newUserInfo) {\n    api.patchEditProfile(newUserInfo)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar(avatarName) {\n    api.patchChangeAvatar(avatarName)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleAddPlaceSubmit(cardInfo) {\n    api.postCard(cardInfo)\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleCardLike(card) {\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\n      api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n          console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n      const isOwn = card.owner._id === currentUser._id;\n      api.deleteCard(card._id, isOwn)\n      .then(() => {\n          const newCards = cards.filter((c) => card._id !== c._id);\n          setCards(newCards);\n      })\n      .catch((err) => {\n          console.log(err);\n      });\n  }\n\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo()])\n    .then(([user]) => {\n      setCurrentUser(user);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    Promise.all([api.getAllCards()])\n    .then(([cards]) => {\n        setCards(cards);\n    })\n    .catch((err) => {\n        console.log(err);\n    });\n  }, []);\n\n   return (\n    <>\n      <div className=\"root\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <div className=\"root__content\">\n            <Header />\n            <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n            />\n            <Footer />\n            <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            />\n            <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            />\n            <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups} \n            onAddPlace={handleAddPlaceSubmit}\n            />\n            <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            />          \n          </div>\n        </CurrentUserContext.Provider>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}