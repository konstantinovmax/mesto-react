{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isLiked","card","likes","some","i","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","type","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","onClose","api","config","this","_url","url","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","description","body","JSON","stringify","id","isNotLiked","putLike","deleteLike","avatarName","authorization","PopupWithForm","isOpen","action","noValidate","onSubmit","title","children","buttonText","EditProfilePopup","useState","setName","setDescription","useEffect","e","preventDefault","onUpdateUser","required","value","onChange","target","placeholder","minLength","maxLength","EditAvatarPopup","avatarInput","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeName","setPlaceName","placeUrl","setPlaceUrl","App","setCards","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","all","getUserInfo","getAllCards","user","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","patchChangeAvatar","newUserInfo","patchEditProfile","cardInfo","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75a01110.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\r\nimport logo from '../images/header-logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Логотип сервиса Mesto\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__like-button ${isLiked ? 'element__like-button_active' : 'element__like-button'}`\r\n    );\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete ${isOwn ? 'element__delete_active' : 'element__delete'}`\r\n    );\r\n    \r\n    \r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    } \r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <figure className=\"element\" key={props.card._id}>\r\n                <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick} />\r\n                <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n                <div className=\"element__caption-container\">\r\n                    <h2 className=\"element__caption\">{props.card.name}</h2>\r\n                    <div className=\"element__like-area\">\r\n                        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\r\n                        <output className=\"element__like-numbers\">{props.card.likes.length}</output>\r\n                    </div>\r\n                </div>\r\n            </figure>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар пользователя\" onClick={props.onEditAvatar} />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__name-edit\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile} />\r\n                    </div>\r\n                    <p className=\"profile__description\">{currentUser.about}</p>\r\n                </div>           \r\n                <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace} />\r\n            </section>\r\n            <section className=\"elements\">\r\n                { props.cards.map((card) => (\r\n                    <Card \r\n                    card={card}\r\n                    key={card._id}\r\n                    onCardClick={props.onCardClick}\r\n                    onCardLike={props.onCardLike}\r\n                    onCardDelete={props.onCardDelete}\r\n                    />\r\n                ))}\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <>\r\n            <div className={`modal modal_type_picture ${props.card.link && 'modal_is-open'}`}>\r\n                <div className=\"modal__container_type-picture\">\r\n                    <button type=\"reset\" className=\"modal__close-button modal__close-button_type-picture\" onClick={props.onClose} />\r\n                    <figure>\r\n                        <img className=\"modal__image\" src={props.card.link} alt={props.card.name} />\r\n                        <figcaption className=\"modal__caption\">{props.card.name}</figcaption>\r\n                    </figure>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при загрузке данных пользователя с сервера');\r\n        });\r\n    }\r\n\r\n    getAllCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при загрузке карточек с сервера');\r\n        });\r\n    }\r\n\r\n    patchEditProfile({ name, description }) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: description\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при редактировании данных пользователя');\r\n        });\r\n    }\r\n\r\n    postCard({ name, description }) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: description\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при добавлении карточки');\r\n        });\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при удалении карточки');\r\n        });\r\n    }\r\n\r\n    putLike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при попытке поставить лайк');\r\n        });\r\n    }\r\n\r\n    deleteLike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при попытке убрать лайк');\r\n        });\r\n    }\r\n\r\n    changeLikeCardStatus(id, isNotLiked) {\r\n        if (isNotLiked) {\r\n            return this.putLike(id);\r\n        } else {\r\n            return this.deleteLike(id);\r\n        }\r\n    }\r\n\r\n    patchChangeAvatar({ avatarName }) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatarName\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при попытке сменить аватар');\r\n        });\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-16/',\r\n    headers: {\r\n       authorization: '8105b806-1cac-45d8-8567-2a49d509e437',\r\n       'content-type': 'application/JSON',\r\n    },\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {  \r\n    return (\r\n        <>\r\n            <div className={`modal modal_type_${ props.name } ${ props.isOpen && 'modal_is-open' }`}>\r\n                <form name=\"\" action=\"#\" className={`modal__container modal__container_type_${props.name}`} noValidate onSubmit={props.onSubmit}>\r\n                    <h2 className=\"modal__title\">{props.title}</h2>\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"modal__save-button\">{props.buttonText || 'Сохранить'}</button>\r\n                    <button type=\"reset\" className=\"modal__close-button\" onClick={props.onClose}></button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            description\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm isOpen={props.isOpen} name=\"edit-profile\" title=\"Редактировать профиль\" onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input id=\"name-input\" name=\"name\" type=\"text\" className=\"modal__input modal__input_type_name\" required value={name} onChange={handleChangeName} placeholder=\"Введите имя\" minLength=\"2\" maxLength=\"40\" />\r\n            <span id=\"name-input-error\" className=\"modal__input-error\"></span>\r\n            <input id=\"description-input\" name=\"description\" type=\"text\" className=\"modal__input modal__input_type_description\" required value={description} onChange={handleChangeDescription} placeholder=\"Введите описание\" minLength=\"2\" maxLength=\"200\" />\r\n            <span id=\"description-input-error\" className=\"modal__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarInput = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n          avatarName: avatarInput.current.value\r\n        });\r\n    } \r\n\r\n    return (\r\n        <PopupWithForm isOpen={props.isOpen} name=\"add-avatar\" title=\"Обновить аватар\" onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input ref={avatarInput} id=\"avatar-input\" name=\"avatarName\" type=\"url\" className=\"modal__input modal__input_type_url\" required=\"required\" placeholder=\"Ссылка на картинку\" />\r\n            <span id=\"avatar-input-error\" className=\"modal__input-error\" />\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [placeName, setPlaceName] = React.useState('');\r\n    const [placeUrl, setPlaceUrl] = React.useState('');\r\n\r\n    function handlePlaceNameChange(e) { \r\n        setPlaceName(e.target.value) \r\n    }\r\n\r\n    function handlePlaceUrlChange(e) { \r\n        setPlaceUrl(e.target.value) \r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: placeName,\r\n            description: placeUrl\r\n        });\r\n    } \r\n\r\n    return (\r\n        <PopupWithForm isOpen={props.isOpen} name=\"add-element\" title=\"Новое место\" onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input id=\"name-input\" name=\"name\" type=\"text\" className=\"modal__input modal__input_type_place\" required value={placeName} onChange={handlePlaceNameChange} placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" />\r\n            <span id=\"name-input-error\" className=\"modal__input-error\" />\r\n            <input id=\"description-input\" name=\"description\" type=\"url\" className=\"modal__input modal__input_type_url\" required value={placeUrl} onChange={handlePlaceUrlChange} placeholder=\"Ссылка на картинку\" />\r\n            <span id=\"description-input-error\" className=\"modal__input-error\" />\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n  const [cards, setCards] = React.useState([]);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  \n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser(newUserInfo) {\n    api.patchEditProfile(newUserInfo)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar(avatarName) {\n    api.patchChangeAvatar(avatarName)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleAddPlaceSubmit(cardInfo) {\n    api.postCard(cardInfo)\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleCardLike(card) {\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\n      api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n          console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n      const isOwn = card.owner._id === currentUser._id;\n      api.deleteCard(card._id, isOwn)\n      .then(() => {\n          const newCards = cards.filter((c) => card._id !== c._id);\n          setCards(newCards);\n      })\n      .catch((err) => {\n          console.log(err);\n      });\n  }\n\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getAllCards()])\n    .then(([user, cards]) => {\n      setCurrentUser(user);\n      setCards(cards);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }, []);\n\n\n   return (\n    <>\n      <div className=\"root\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <div className=\"root__content\">\n            <Header />\n            <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n            />\n            <Footer />\n            <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            />\n            <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            />\n            <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups} \n            onAddPlace={handleAddPlaceSubmit}\n            />\n            <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            />          \n          </div>\n        </CurrentUserContext.Provider>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}